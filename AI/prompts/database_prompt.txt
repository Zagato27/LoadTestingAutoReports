ЗАДАЧА: Комплексный отчет по метрикам базы данных в ходе ступенчатого нагрузочного тестирования

ИСХОДНЫЕ ДАННЫЕ (могут быть частично представлены):
- Объем запросов (QPS/RPS) по экземплярам/сервисам/подам
- Время выполнения запросов (среднее, P95/P99)
- Ошибки/тайм-ауты (rate, доля от общего)
- Нагрузка и насыщение ресурсов (CPU, память, IO/диск/FS cache)
- Пулы соединений (active/idle, wait time)
- Медленные запросы/планировщик (slow queries, lock wait)
- Кэш/индексы (hit ratio), репликация (lag), фоновые операции

РЕКОМЕНДУЕМЫЕ SLA (ориентиры, при необходимости адаптируйте под контекст):
- P95 latency: < 100 мс (предупреждение: 100–200 мс; критично: > 200 мс)
- Ошибки: < 0.1% запросов (предупреждение: 0.1–1%; критично: > 1%)
- Репликация: lag < 1 с (предупреждение: 1–5 с; критично: > 5 с)
- Пулы соединений: utilization < 80% устойчиво
- Кэш: hit ratio > 90%

ТРЕБОВАНИЯ К АНАЛИЗУ:
1) Проанализировать ВСЕ доступные метрики без исключения по всем инстансам/подам.
2) По ключевым метрикам указать минимум/среднее/максимум и характерные окна времени.
3) Найти корреляции: рост нагрузки vs рост задержек/ошибок/ресурсное насыщение.
4) Определить потенциальные узкие места: индексы, кэш, пул соединений, диск/IO, блокировки.
5) Сопоставить фактические значения с рекомендуемыми SLA и вывести отклонения.

ТРЕБОВАНИЯ К НАСЫЩЕННОСТИ И ФОРМАТУ:
- Минимум 5 пунктов в findings и 5 в recommended_actions (если данных достаточно).
- Для каждого findings укажите: severity (critical/high/medium/low), component, evidence (факт: метрика/окно времени/значение) с интервалом отклонения start–end и peak_time.
- Отвечайте СТРОГО в JSON: {verdict, confidence, findings[], recommended_actions[], affected_components[]}.
- Если данных недостаточно — верните verdict="insufficient_data" и объясните причину в findings.

ПРИМЕР ОТВЕТА (JSON):
```json
{
  "verdict": "регресс",
  "confidence": 0.84,
  "findings": [
    {"summary": "P95 latency вырос до 230мс", "severity": "high", "component": "db-primary", "evidence": "12:40–12:55, P95=230мс при QPS +25%"},
    {"summary": "Connection pool utilization 92%", "severity": "high", "component": "app→db pool", "evidence": "12:45–12:55, active≈max"},
    {"summary": "Cache hit ratio просел до 78%", "severity": "medium", "component": "buffer cache", "evidence": "12:35–12:50"},
    {"summary": "Replica lag до 6с", "severity": "medium", "component": "replica-2", "evidence": "12:48–12:55"},
    {"summary": "Рост 5xx тайм-аутов", "severity": "medium", "component": "db-api", "evidence": "после 12:45, error rate≈0.7%"}
  ],
  "affected_components": ["db-primary", "replica-2", "app→db pool", "db-api"],
  "recommended_actions": [
    "Увеличить размер пула соединений и добавить backoff на клиенте",
    "Пересмотреть индексы для горячих запросов (top-3 slow patterns)",
    "Теплый кэш перед пиковыми окнами; проверить настройки shared buffers",
    "Проверить диск/IO (iowait) и лимиты; рассмотреть provisioned IOPS",
    "Настроить алерт на Replica lag > 3с и деградацию Cache hit < 85%"
  ]
}
```

ВАЖНО:
1) НЕ ПРИДУМЫВАТЬ ДАННЫХ — отмечайте недостаточность.
2) Не вводить новые метрики вне предоставленного контекста.
3) Делайте отсылки к evidence: метрика/значение/окно/инстанс.

